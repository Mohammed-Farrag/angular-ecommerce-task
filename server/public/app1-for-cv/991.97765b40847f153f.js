"use strict";(self.webpackChunkapp1_for_cv=self.webpackChunkapp1_for_cv||[]).push([[991],{2991:(ct,f,m)=>{m.r(f),m.d(f,{CartModule:()=>at});var s=m(6814),C=m(5692);function x(e,r,n,a,o,i,l){try{var d=e[i](l),u=d.value}catch(ot){return void n(ot)}d.done?r(u):Promise.resolve(u).then(a,o)}var h="https://js.stripe.com/v3",w=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,T="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",_=null,g=Promise.resolve().then(function(){return r=null,null!==_||(_=new Promise(function(n,a){if(typeof window>"u")n(null);else if(window.Stripe&&r&&console.warn(T),window.Stripe)n(window.Stripe);else try{var o=function(){for(var r=document.querySelectorAll('script[src^="'.concat(h,'"]')),n=0;n<r.length;n++){var a=r[n];if(w.test(a.src))return a}return null}();o&&r?console.warn(T):o||(o=function(r){var n=r&&!r.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(h).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(a),a}(r)),o.addEventListener("load",function(){window.Stripe?n(window.Stripe):a(new Error("Stripe.js not available"))}),o.addEventListener("error",function(){a(new Error("Failed to load Stripe.js"))})}catch(i){return void a(i)}})),_;var r}),v=!1;g.catch(function(e){v||console.warn(e)});var t=m(5879),Y=m(8323),U=m(9862),p=m(2296),q=m(5195),k=m(617),c=m(5313);function Q(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Product"),t.qZA())}function I(e,r){if(1&e&&(t.TgZ(0,"td",17),t._UZ(1,"img",18),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.s9C("src",n.product,t.LSH)}}function E(e,r){1&e&&(t.TgZ(0,"td",19)(1,"button",20),t._uU(2," Continue Shopping "),t.qZA()())}function H(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function P(e,r){if(1&e&&(t.TgZ(0,"td",17)(1,"span",21),t._uU(2),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.Oqu(n.name)}}function G(e,r){1&e&&t._UZ(0,"td",19)}function F(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Price"),t.qZA())}function J(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.price))}}function R(e,r){1&e&&t._UZ(0,"td",19)}function B(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Quantity"),t.qZA())}function L(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",17)(1,"button",22),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.onQuantityDecreamented(i))}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"button",22),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.onQuantityIncreamented(i))}),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA()()()}if(2&e){const n=r.$implicit;t.xp6(5),t.Oqu(n.quantity)}}function M(e,r){1&e&&t._UZ(0,"td",19)}function j(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Total"),t.qZA())}function K(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.quantity*n.price))}}function $(e,r){if(1&e&&(t.TgZ(0,"td",19)(1,"span",23),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,n.getTotal(n.cart.items)))}}function O(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"th",16)(1,"button",24),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onClearCart())}),t._uU(2," Clear all "),t.qZA()()}}function z(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",17)(1,"button",25),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.onDeleteCartItem(i))}),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()()()}}function W(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",19)(1,"button",26),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.goToCheckout())}),t._uU(2," Proceed to checkout "),t.qZA()()}}function X(e,r){1&e&&t._UZ(0,"tr",27)}function V(e,r){1&e&&t._UZ(0,"tr",28)}function tt(e,r){1&e&&t._UZ(0,"tr",29)}function et(e,r){if(1&e&&(t.TgZ(0,"mat-card",2)(1,"table",3),t.ynx(2,4),t.YNc(3,Q,2,0,"th",5),t.YNc(4,I,2,1,"td",6),t.YNc(5,E,3,0,"td",7),t.BQk(),t.ynx(6,8),t.YNc(7,H,2,0,"th",5),t.YNc(8,P,3,1,"td",6),t.YNc(9,G,1,0,"td",7),t.BQk(),t.ynx(10,9),t.YNc(11,F,2,0,"th",5),t.YNc(12,J,3,3,"td",6),t.YNc(13,R,1,0,"td",7),t.BQk(),t.ynx(14,10),t.YNc(15,B,2,0,"th",5),t.YNc(16,L,9,1,"td",6),t.YNc(17,M,1,0,"td",7),t.BQk(),t.ynx(18,11),t.YNc(19,j,2,0,"th",5),t.YNc(20,K,3,3,"td",6),t.YNc(21,$,4,3,"td",7),t.BQk(),t.ynx(22,12),t.YNc(23,O,3,0,"th",5),t.YNc(24,z,4,0,"td",6),t.YNc(25,W,3,0,"td",7),t.BQk(),t.YNc(26,X,1,0,"tr",13),t.YNc(27,V,1,0,"tr",14),t.YNc(28,tt,1,0,"tr",15),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedCols),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedCols),t.xp6(1),t.Q6J("matFooterRowDef",n.displayedCols)}}function nt(e,r){1&e&&(t.TgZ(0,"mat-card",30)(1,"div",31)(2,"p",32),t._uU(3," your cart is empty "),t.qZA(),t.TgZ(4,"button",20),t._uU(5," Start Shopping "),t.qZA()()())}const rt=[{path:"",component:(()=>{class e{constructor(n,a){this.cartService=n,this.http=a,this.cart={items:[]},this.dataSource=[],this.displayedCols=["product","name","price","quantity","total","action"]}ngOnInit(){this.cartService.cart.subscribe(n=>{this.cart=n,this.dataSource=this.cart.items})}getTotal(n){return n.map(a=>a.price*a.quantity).reduce((a,o)=>a+o,0)}onClearCart(){this.cartService.onClearCart()}onDeleteCartItem(n){this.cartService.onDeleteCartItem(n)}onQuantityIncreamented(n){this.cartService.onQuantityIncreamented(n)}onQuantityDecreamented(n){this.cartService.onQuantityDecreamented(n)}goToCheckout(){this.http.post("http://localhost:4242/checkout",{items:this.cart.items}).subscribe(function(){var n=function Z(e){return function(){var r=this,n=arguments;return new Promise(function(a,o){var i=e.apply(r,n);function l(u){x(i,a,o,l,d,"next",u)}function d(u){x(i,a,o,l,d,"throw",u)}l(void 0)})}}(function*(a){(yield function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];v=!0;var o=Date.now();return g.then(function(i){return function(r,n,a){if(null===r)return null;var o=r.apply(void 0,n);return function(r,n){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"1.35.0",startTime:n})}(o,a),o}(i,n,o)})}("pk_test_51NZzqoI4vASs7sPD1knGdbEIKmlHHPWfgJKx2L3io7jbWf3VbzXPnGk1s3Rwu3YFAZcCLieK7Yns13zHQ8YzBPZW00DMIM8IBG"))?.redirectToCheckout({sessionId:a.id})});return function(a){return n.apply(this,arguments)}}())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Y.N),t.Y36(U.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:2,vars:2,consts:[["class","max-w-7xl mx-auto",4,"ngIf"],["class","max-w-7xl mx-auto text-center",4,"ngIf"],[1,"max-w-7xl","mx-auto"],["mat-table","",1,"mat-elevation-z8","w-full",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],["alt","",1,"w-[100px]","my-5",3,"src"],["mat-footer-cell",""],["mat-raised-button","","routerLink","/"],[1,"truncate","max-w-xs","block"],["mat-icon-button","",3,"click"],[1,"font-bold","py-5","block"],["mat-raised-button","","color","warn",1,"float-right",3,"click"],["mat-mini-fab","","color","warn",1,"float-right",3,"click"],["mat-raised-button","","color","primary",1,"float-right",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"max-w-7xl","mx-auto","text-center"],[1,"flex","justify-center","flex-col","items-center","gap-5","py-5"],[1,"text-center","w-full","text-2xl","font-bold","ng-star-inserted"]],template:function(n,a){1&n&&(t.YNc(0,et,29,4,"mat-card",0),t.YNc(1,nt,6,0,"mat-card",1)),2&n&&(t.Q6J("ngIf",a.cart.items.length),t.xp6(1),t.Q6J("ngIf",!a.cart.items.length))},dependencies:[s.O5,C.rH,p.lW,p.RK,p.nh,q.a8,k.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,s.H9],encapsulation:2,changeDetection:0}),e})()}];let at=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,C.Bz.forChild(rt)]}),e})()}}]);